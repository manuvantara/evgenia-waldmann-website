---
import type { HTMLAttributes } from "astro/types";
import { cva, type VariantProps } from "class-variance-authority";

const button = cva(
  "flex items-center justify-center rounded-3xl px-6 py-2.5 font-semibold gap-2 text-lg w-fit group transition-all duration-300 cursor-pointer",
  {
    variants: {
      intent: {
        primary: "bg-reef-200 text-stromboli-700 fill-stromboli-700",
        outline: "ring-1 ring-reef-200 text-reef-200 fill-reef-200",
      },
    },
  },
);

export interface Props
  extends HTMLAttributes<"a">,
    VariantProps<typeof button> {}

const { intent = "primary", ...attributes } = Astro.props;
---

<a class:list={[button({ intent }), attributes.class]} {...attributes}>
  <slot> Оставить заявку </slot>
  <slot name="suffix">
    <svg
      class="size-6 transition-transform [backface-visibility:hidden] [transform:translateZ(0)] group-hover:translate-x-1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 -960 960 960"
    >
      <path
        d="M646-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h446L532-634q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T589-691l183 183q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L589-269q-12 12-28.5 11.5T532-270q-11-12-11.5-28t11.5-28l114-114Z"
      ></path>
    </svg>
  </slot>
</a>
